LDI R1, 5 ; num of enemies

; DRWLOOP:

GAMESTART:
LDI R3, 50 ; player x
LDI R4, 10 ; player y

GAMELOOP:
CALLI HANDLEKEYS
CALLI BOUNDARIES
JMPI GAMELOOP


HANDLEKEYS:
LDI R1, 0xF4
LD R2, R1
LDI R1, 65 ; a key
CMP R2, R1
CALLI MOVELEFT
LDI R1, 68 ; d key
CMP R2, R1
CALLI MOVERIGHT
LDI R1, 87 ; w key
CMP R2, R1
CALLI MOVEUP
LDI R1, 83 ; s key
CMP R2, R1
CALLI MOVEDOWN
DRW R3, R4
RET

MOVEUP:
JEQI Y
RET
Y:
DEC R4

PUSH R2
LDI R2, 0
CMP R4, R2
JEQI ROOF
POP R2

RET

MOVEDOWN:
JEQI R
RET
R:
INC R4

PUSH R2
LDI R2, 25
MOD R4, R2
POP R2

RET

MOVELEFT:
JEQI D
RET
D:
DEC R3

PUSH R2
LDI R2, 0
CMP R3, R2
JEQI LEFTWALL
POP R2

RET

MOVERIGHT:
JEQI Z
RET
Z:
INC R3

PUSH R2
LDI R2, 90
MOD R3, R2
POP R2

RET

BOUNDARIES:



ROOF:
LDI R4, 1
POP R2
RET

LEFTWALL:
LDI R3, 1
POP R2
RET
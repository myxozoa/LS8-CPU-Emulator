LDI R1, 27 ; ground level
LDI R2, 0 ; ground acc
LDI R3, 50 ; player x
LDI R4, 10 ; player y

DRWBGDLOOP:
CMPI R2, 255
JEQI GAMELOOP
DRWB R2, R1
INC R2
JMPI DRWBGDLOOP

GAMELOOP:
ADDI R4, 1
LDI R1, 0xF4
LD R2, R1
LDI R1, 119 ; w key
CMP R2, R1
CALLI MOVEUP
LDI R1, 115 ; s key
CMP R2, R1
CALLI MOVEDOWN
LDI R1, 97 ; a key
CMP R2, R1
CALLI MOVELEFT
LDI R1, 100 ; d key
CMP R2, R1
CALLI MOVERIGHT
DRW R3, R4
CMPI R4, 25
JGTI HITFLOOR
JMPI GAMELOOP

MOVEUP:
JEQI Y
RET
Y:
SUBI R4, 5
CALLI CLEARKEY
RET

MOVEDOWN:
JEQI R
RET
R:
INC R4
CALLI CLEARKEY
RET

MOVELEFT:
JEQI D
RET
D:
DEC R3
CALLI CLEARKEY
RET

MOVERIGHT:
JEQI Z
RET
Z:
INC R3
CALLI CLEARKEY
RET

CLEARKEY:
LDI R1, 0
LDI R2, 0xF4
ST R2, R1
RET

HITFLOOR:
LDI R4, 25
JMPI GAMELOOP